# 3장. 사용자와 소통하는 에러 메시지 쓰기

## 1. 에러 메시지를 쓰기 전에 에러부터 없애자

### 친절한 404, 불친절한 404

- 사용자가 보는 화면 -> UI/UX 디자이너가 제작한다.
- 사용자가 읽는 메뉴와 콘텐츠 -> 기획자가 제작한다.
- 사용자는 디자이너와 기획자의 산출물을 보며 서비스를 이용하지만 개발자의 산출물 그 자체를 볼 수는 없다.
- 하지만 HTTP 404 에러 메시지의 경우 개발자의 산출물이 적나라하게 드러난다.

#### 404 에러 페이지 예시

- [구글](https://www.google.com/404)

  - 로고와 이미지, 간단한 메시지가 전부이다.

- [위키피디아](https://en.wikipedia.org/404)

  - 간단한 메시지와 사용자가 의도한 URL을 추측해서 제안한다.
  - 마지막 줄에는 첫 화면으로 이동하는 링크와 404 에러의 상세 내용을 담은 페이지가 링크되어있다.

- [넷플릭스](https://www.netflix.com/NotFound?prev=https%3A%2F%2Fwww.netflix.com%2F404), [스포티파이](https://www.spotify.com/kr-ko/404/)

  - 자사의 서비스와 관련된 이미지와 링크들을 적절히 잘 접목한 모습을 볼 수 있다.

- [다음](https://www.daum.net/404), [예스24](https://www.yes24.com/Common/ErrorNotFound.aspx)
  - 한국 서비스에 맞게 고객센터 링크를 덧붙인 모습을 볼 수 있다.

### 404 에러가 죄송할 일인가?

- [네이버](https://www.naver.com/404), [넷마블](https://www.netmarble.net/commons/errorPage/404.html)
  - 에러 페이지에 죄송하다는 문구를 사용했다.

저자는 404 에러 페이지를 만나는 것을 죄송하게 생각한다면 당연히 사용자가 404 에러 페이지를 만나지 않게 만들어야 한다고 주장한다. 사용자가 에러 페이지를 만나는 경우는 두 가지가 있다.

- 1. 사용자가 URL을 잘못 입력한 경우
- 2. 사용자가 링크를 클릭했으나 해당 페이지가 없는 경우

문제는 두 번째의 경우이다. 해당 링크들을 다음과 같이 말할 수 있다.

- 깨진 링크(broken link)
- 죽은 링크(dead link)
- 나쁜 링크(bad link)

개발자들이 이런 링크들을 내버려 두는 것이 문제이다.

### 깨진 링크는 개발자의 책임이다

정상적인 경우라면 사용자가 링크를 클릭했을 때 해당 페이지를 찾을 수 없는 경우는 없어야 한다. 그러려면 깨진 링크를 미리 찾아서 수정해야 한다.

- [깨진 링크를 찾아내는 서비스](https://www.brokenlinkcheck.com/)를 이용하면 금방 확인할 수 있다.
- 구글 서치콘솔을 이용하면 구글 검색 엔진에서 특정 사이트의 깨진 링크를 쉽게 찾아낼 수 있다.

이렇게 깨진 링크를 확인해 하나씩 수정하면 404 에러 페이지에서 죄송할 일은 사라진다.

### 개발자용 에러 메시지와 사용자용 에러 메시지를 분리하자

개발하다 보면 개발자용 메시지와 사용자용 에러 메시지를 섞어서 쓰곤 한다.
미처 지우지 못한 메시지를 사용자가 볼 수도 있다.

이런 경우를 피하기 위해 처음부터 개발자용 에러 메시지와 사용자용 에러 메시지를 분리해 작성하는 것이 좋다.
**`C`** 에서 `#define`을 이용한 예시는 다음과 같다.

```C
#define ERROR_MESSAGE_FOR_USER_911 "현재 개발 중 기능이어서 에러가 생길 수 있습니다. 양해 부탁합니다."
#define ERROR_MESSAGE_FOR_DEVELOPER_911 "code:911\n이거 나오면 야근.ㅠㅠ."

#define SHOW_ERROR_MESSAGE_FOR_USER_911 printf("현재 개발 중 기능이어서 에러가 생길 수 있습니다. 양해 부탁합니다.")
#define SHOW_ERROR_MESSAGE_FOR_DEVELOPER_911 printf("code:911\n이거 나오면 야근.ㅠㅠ.")
```

## 2. 사용자 에러 메시지를 제대로 쓰는 법

### 사용자 에러에 대처하는 메시지

사용자가 개발자의 의도대로 프로그램을 사용해야 하는데, 실제로는 그렇지 않은 경우가 많다. 회원가입 시 아이디를 잘못 입력하거나 항목을 비운 채로 확인이나 다음 버튼을 클릭하는 경우다. 이런 경우에 아무 작동도 하지 않고 메시지도 없으면 사용자는 불만을 가질 수 있다.
따라서 개발자는 이러한 사용자 에러가 발생하면 알림창을 이용해 에러가 발생했음을 알리는 메시지를 보여줘서 사용자가 바른 행동을 하도록 유도한다. 저자는 가입 버튼을 눌렀을 때 비정상적인 상황이 발생했을 때의 메시지를 예시로 보여줬다.

- `회원 가입을 진행할 수 없습니다.`

이러한 메시지는 단지 오류가 발생했음을 알려줄 뿐이고 그 원인을 알 수 없으므로 어떻게 해야 할지 막막해진다.
적절한 메시지가 되려면 먼저 사용자가 무엇을 잘못했는지 알려줘야 한다. 오류의 내용과 오류의 원인을 포함해야 한다.

- `휴대폰 번호를 잘못 입력하셔서 회원가입을 진행할 수 없습니다.`

그런데 이 역시 사용자가 번호를 '010-0000-XXXX'로 정확히 입력했다. 개발자의 의도는 숫자만 입력하는 것이었다.
이 사용자는 붙임표(-)를 사용했고 이 때문에 에러가 생긴 것이다. 그렇다면 개발자는 해결 방법을 정확히 알려줘야 한다.

- `휴대폰 번호를 잘못 입력하셔서 회원가입을 진행할 수 없습니다. 휴대폰 번호 입력란에는 숫자만 입력하십시오.`

이렇게 보면 에러 메시지의 목적은 사용자에게 에러가 났음을 알려주는 것이 아니라 사용자 스스로 에러를 해결하게 하는 것이다. 따라서 사용자 에러 메시지에는 에러의 내용, 원인, 해결 방법이 포함돼야 한다.

- **에러 내용**: 오류로 인한 문제와 종류. ex) 회원 가입을 진행할 수 없습니다.
- **에러의 원인**: 오류를 발생시킨 직접적이고 근본적인 원인. ex) 휴대전화 번호를 잘못 입력하셨습니다.
- **에러 해결 방법**: 사용자가 오류를 해결할 가장 쉽고 빠른 방법. ex) 휴대전화 번호 입력란에는 숫자만 입력하십시오.

### 에러 메시지를 보여주는 순서

위와 다르게 에러 내용과 원인이 복잡할 때는 어떨까?

- [에러 내용] 요청하신 아이템의 인계를 시간 내에 처리하지 못했습니다.
- [에러 원인] 아이템을 인계받을 상대방에게 다른 사용자가 아이템을 인계하는 중이어서 동시에 인계할 수 없습니다.
- [에러 해결 방법] 3초 후에 다시 시도하십시오.

이 메시지는 두 사람 이상이 거의 같은 시간에 한 사람에게 아이템을 인계하다 보니 큐가 쌓여서 바로 처리하지 못한 경우다. 이때는 보통 시스템에서 큐를 바로 처리하므로 네트워크 문제가 아닌 이상 잠시 후에 다시 시도하면 해결된다.
그렇다면 에러 내용이나 원인을 말하기보다 에러를 해결하는 방법을 먼저 얘기하는 편이 사용자에게 훨씬 낫다.

- [에러 해결 방법] 3초 후에 다시 시도하십시오.
- [에러 내용] 요청하신 아이템의 인계를 시간 내에 처리하지 못했습니다.
- [에러 원인] 아이템을 인계받을 상대방에게 다른 사용자가 아이템을 인계하는 중이어서 동시에 인계할 수 없습니다.

그 외에도 줄 바꿈을 적절히 활용하거나 에러 내용을 없애고 원인만 간단히 써도 사용자가 충분히 내용을 이해할 수 있다.

- 3초 후에 다시 시도하십시오.
- 상대방이 다른 사용자의 아이템을 인계받는 중입니다.

### 오락가락 메시지와 버튼 메시지

알림창에는 보통 버튼이 한 개('닫기' 또는 '확인') 있다. 그런데 툭정한 기능을 수행하는 버튼이 하나 더 있을 때도 있다.

- `지금 이 페이지를 떠나면 편집한 내용이 취소될 수 있습니다. 취소하시겠습니까? (예 / 아니오)`

'예' 버튼이나 '아니오' 버튼을 눌렀을 때 생기는 결과에 대해서 명확하지 않다. '취소'라는 단어를 두 번 썼기 때문이다. 취소를 아예 쓰지 말고 행동에만 집중하면 오해를 없앨 수 있다.

- `편집한 내용을 삭제하고 다른 페이지로 이동하시겠습니까? (예 / 아니오)`

좀 더 나아가서 저자는 여기서 '예', '아니오' 버튼을 쓰는 것은 좋지 않다고 한다. 단순히 옳고 그름의 의견을 개진하거나 '예', '아니오'로 대답하는 것이 아니라고 한다. 버튼의 본래 역할은 특정한 행동을 유도하는 것이다.

페이스북을 예시로 들면 작성 중인 글에서 다른 링크로 이동하는 경우에 다음과 같은 메시지가 나타난다.

| 페이지를 나가시겠어요?                                                                                                                                                                                                                                                                |
| :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| 아직 글을 올리지 않았습니다.<br>올리지 않고 나가시겠어요?                                                                                                                                                                                                                             |
| <span style="border: 1px solid lightgray; display: inline-block; width: 45%; text-align: center">이 페이지에 머물기</span> <span style="color:white;background-color:red;border: 1px solid lightgray; display: inline-block; width: 45%; text-align: center">페이지에서 나가기</span> |

## 3. 사용자의 에러를 줄이는 메시지 구조화

### 버튼의 순서

페이스북의 예시와 같이 **취소-나가기** 순서의 버튼이 있는 반면에, 크롬 브라우저의 경우는 **나가기-취소** 순서를 사용한다. 이것을 **확인-취소 문제**라고 한다. 윈도우에서는 확인-취소, macOS에선 취소-확인을 사용한다.
확인이 오른쪽에 있는 이유는 행동의 연속성 때문이다.

- 대부분의 국가는 왼쪽에서 오른쪽으로 글을 읽고 작성한다.
- 아랍어는 오른쪽에서 왼쪽으로 글을 쓴다.
- 한자도 과거에는 오른쪽에서 왼쪽으로 썼다.

이렇듯 순서가 각 서비스나 OS마다 다른 문제가 있지만 국제 표준을 정하는 것은 사실상 불가능하다.
따라서 현 상황에서는 OS의 순서를 따른 것 보다는 서비스 내에서 일관성을 가지는 것이다 좋다. 그래야 사용자 경험이 어긋나지 않는다. 페이스북과 같이 구체적인 행동을 적는 거나 시각적으로 강조하는 것도 좋은 방법이다.

### 사용자의 반복 에러를 막는 법

사용자가 에러 메시지를 같은 에러를 몇 번이고 반복할 때가 종종 있다. 예를 들어, 로그인할 때 비밀 번호를 계속해서 잘못 쓰는 경우가 있다. 해킹을 의도로 반복할 수 있기 때문에 일정한 에러 반복 이후에는 다른 방법이나 다른 메시지를 보여준다. 네이버의 경우에는 첫 번째 에러 메시지는 오류가 네 번 발생할 때까지 똑같이 나온다.

| <span style="color:green">NAVER</span>                                                                                              |
| ----------------------------------------------------------------------------------------------------------------------------------- |
| <span style="display: inline-block; width: 100%; text-align: center;">userID</span>                                                 |
| <span style="display: inline-block; width: 100%; text-align: center;">\*\*\*\*\*\*</span>                                           |
| <span style="color:red">아이디(로그인 전용 아이디) 또는 비밀번호를 잘못 입력했습니다.<br> 입력하신 내용을 다시 확인해주세요.</span> |

다섯 번째 로그인 시도도 실패하면 에러 메시지가 바뀌면서 갑자기 자동입력 방지 문자를 입력할 것을 요구한다.

- 개발자는 사용자가 기억을 잘 떠올려서 최소한의 시도로 로그인에 성공하게 만들어야 한다.
- 네 번째까지 메시지가 똑같다 보니 사용자는 기억을 떠올리기 보다는 일단 생각나는 대로 비밀번호를 입력할 것이다.

이런 경우에 사용자에게 앞으로 남은 로그인 횟수를 메시지로 보여주면 된다. 인터넷 뱅킹 초창기에는 이렇게 남은 횟수를 보여주지 않아서 곤혹스러웠던 적이 많았다. 이것이 불편 사항이 되고 은행에도 비용이 되다보니 요즘에는 비밀번호를 잘못 입력할때마다 남은 횟수를 알려준다.

## 4. 에러 메시지 대신 예방 메시지를 쓰자

### 서비스를 이해하면 에러를 예방할 수 있다

- 모든 개발자는 사용자가 에러 없이 프로그램을 사용하게 만들고 싶어 한다.
- 에러가 한 번도 발생하지 않게 프로그램을 온전히 개발할 수 있는 개발자는 없다.
- 사용자마다 사용법이 제각각이고 아무리 매뉴얼이나 도움말을 충실히 적어도 사용자가 무시하고 마음대로 사용하기 일쑤이다.
- 따라서 에러를 줄이려면 개발자도 사용자의 사용 방식을 이해해야 한다.

호텔 예약 앱에서 예약 날짜를 달력으로 선택하게 만들었다고 했을 때, 보통 개발자는 달력을 월 단위로 보여준다.
그렇지만 예약은 기본적으로 오늘 이후만 가능하다. 사용자가 과거 날짜를 클릭했을 때 에러 메시지가 출력되게 할 것이다.
에러가 생기지 않게 하기 위해선 처음부터 사용자가 오늘 이전 날짜를 선택할 수 없게 하면 어떨까? 이 단순한 아이디어는 많은 예약 사이트의 달력 표시 방법을 바꿨다.

### 사용자를 이해하면 에러를 예방할 수 있다

사용자가 입력 시 자주 실수하는 것이 바로 긴 숫자를 잘못 입력하는 경우이다. 신용카드 번호 입력 등이 있다.

- 59618384858217384867
- 5961 8384 8582 1738 4867

같은 숫자지만 4칸씩 띄어씀으로써 읽기 편하고 기억하기 쉬운 형식을 제공하여 사용자가 오입력하는 에러를 줄일 수 있다.

- 회원가입 이메일 같은 경우도 아이디 이후에 '@' 뒷부분은 제대로 안쓰는 경우가 있기 때문에 선택할 수 있는 선택지를 만들어 줌으로써 사용자의 에러를 줄인다.
- Caps Lock이 켜져있는 경ㅇ도 미리 알려줌으로써 사용자의 에러를 막을 수 있다.

이렇듯 서비스와 사용자를 이해하면 에러 메시지 대신에 예방 메시지를 보여줌으로써 에러 발생을 막을 수 있다.
처음부터 에러 메시지를 예방 메시지라고 생각하면 에러를 없애는 단순 개발자가 아니라 사용성을 높이고 서비스를 활성화하는 비즈니스 감각이 있는 개발자가 될 것이다.

### 닭이 먼저? 알이 먼저?

ERP에서 결재 상신을 할 때 내용을 적고 결재 요청 버튼을 누르는 경우

- 재확인 방식: 결재 요청 -> 재확인 -> 결재 처리
- 취소 방식: 결재 요청 -> 결재 처리 + 취소 기능

두 가지 방식 중 구현하기 쉬운 방식은 재확인 방식이다. 소프트웨어 개발 초기에는 재확인 방식을 많이 사용했다. 그런데 시간이 지나면서 사용자들이 취소 기능을 요구하기 시작했고 취소 기능을 만들었더니 재확인 기능과 취소 기능이 섞여 버렸다.

- 복합 방식: 결재 요청 -> 재확인 -> 결재 처리 + 취소 기능

재확인 방식에서의 재확인은 사용자에게 경고를 하는 것이다. 사용자의 의사결정이 근본적으로 실수가 잦고 믿을 수 없다고 보는 관점이다. 사용자가 실수로 결재 요청 버튼을 누르는 것을 막기 위해서라면 다른 방식을 써야 한다. 결재 요청 버튼의 위치나 크기를 다시 설정해야 옳다. 다음 화면에서 취소 기능까지 보여줌으로써 사용자가 자신의 행동을 주체적으로 책임지게 만들어야 한다.

### ✍🏻 Writer

|                                                                   이승철                                                                   |
| :----------------------------------------------------------------------------------------------------------------------------------------: |
| <img src="https://user-images.githubusercontent.com/83414134/202398444-a93994ce-6299-44a1-9c05-695abc618d1e.png" width="150" height="150"> |
|                                                   [Seung72](https://github.com/Seung72)                                                    |
