# π Chapter 06. λ©”μ‹μ§€μ™€ μΈν„°νμ΄μ¤
- κ°μ²΄μ§€ν–¥ ν”„λ΅κ·Έλλ°μ— λ€ν• κ°€μ¥ ν”ν• μ¤ν•΄λ” μ• ν”λ¦¬μΌ€μ΄μ…μ΄ ν΄λμ¤μ μ§‘ν•©μΌλ΅ κµ¬μ„±λλ‹¤λ” κ²ƒ
- ν•μ§€λ§ ν΄λμ¤λ” λ„κµ¬μ— λ¶κ³Ό
- μ• ν”λ¦¬μΌ€μ΄μ…μ€ ν΄λμ¤μ μ§‘ν•©μΌλ΅ κµ¬μ„±λλ” κ²ƒμ΄ μ•„λ‹ λ©”μ‹μ§€λ¥Ό ν†µν•΄ μ •μλ¨
- κ°μ²΄μ§€ν–¥ μ• ν”λ¦¬μΌ€μ΄μ…μ κ°€μ¥ μ¤‘μ”ν• μ¬λ£λ” κ°μ²΄λ“¤μ΄ μ£Όκ³ λ°›λ” λ©”μ‹μ§€ μ¦‰, κ°μ²΄κ°€ μν–‰ν•λ” μ±…μ„

## π¥‘ 01. ν‘λ ¥κ³Ό λ©”μ‹μ§€
### π λ©”μ‹μ§€μ™€ λ©”μ‹μ§€ μ „μ†΅
#### λ©”μ‹μ§€
λ©”μ‹μ§€(message)λ” κ°μ²΄λ“¤μ΄ ν‘λ ¥ν•κΈ° μ„ν•΄ μ‚¬μ©ν•  μ μλ” μ μΌν• μμ‚¬μ†ν†µ μλ‹¨.
- λ©”μ‹μ§€ μ „μ†΅(message sending) or λ©”μ‹μ§€ ν¨μ‹±(message passing): ν• κ°μ²΄κ°€ λ‹¤λ¥Έ κ°μ²΄μ—κ² λ„μ›€μ„ μ”μ²­ν•λ” κ²ƒ
    - μ΄λ• λ©”μ‹μ§€λ¥Ό μ „μ†΅ν•λ” κ°μ²΄ = λ©”μ‹μ§€ μ „μ†΅μ(message sender)
    - λ©”μ‹μ§€λ¥Ό μμ‹ ν•λ” κ°μ²΄ = λ©”μ‹μ§€ μμ‹ μ(message receiver)
- λ©”μ‹μ§€λ” μ¤νΌλ μ΄μ…λ…(operation name)κ³Ό μΈμ(argument)λ΅ κµ¬μ„±
    - λ©”μ‹μ§€ μ „μ†΅μ€ μ—¬κΈ°μ— λ©”μ‹μ§€ μμ‹ μλ¥Ό μ¶”κ°€ν• κ²ƒ
    - λ”°λΌμ„ **λ©”μ‹μ§€ μ „μ†΅**μ€ λ©”μ‹μ§€ μμ‹ μ, μ¤νΌλ μ΄μ…λ…, μΈμμ μ΅°ν•©

### π νΌλΈ”λ¦­ μΈν„°νμ΄μ¤μ™€ μ¤νΌλ μ΄μ…
- κ°μ²΄λ” μ•κ³Ό λ°–μ„ κµ¬λ¶„ν•λ” λλ ·ν• κ²½κ³„λ¥Ό κ°€μ§„λ‹¤.
    - μ™Έλ¶€μ—μ„ λ³Ό λ• κ°μ²΄μ μ•μ½μ€ κ²€μ€ μ¥λ§‰μΌλ΅ κ°€λ ¤μ§„ λ―Έμ§€μ μμ—­
    - μ™Έλ¶€μ κ°μ²΄λ” μ¤μ§ κ°μ²΄κ°€ κ³µκ°ν•λ” λ©”μ‹μ§€λ¥Ό ν†µν•΄μ„λ§ κ°μ²΄μ™€ μƒνΈμ‘μ©ν•  μ μμ
    - μ΄μ²λΌ κ°μ²΄κ°€ μμ‚¬μ†ν†µμ„ μ„ν•΄ μ™Έλ¶€μ— κ³µκ°ν•λ” λ©”μ‹μ§€μ μ§‘ν•©μ„ ```νΌλΈ”λ¦­ μΈν„°νμ΄μ¤```λΌκ³  λ¶€λ¥Έλ‹¤.
- ν”„λ΅κ·Έλλ° μ–Έμ–΄μ κ΄€μ μ—μ„ νΌλΈ”λ¦­ μΈν„°νμ΄μ¤μ— ν¬ν•¨λ λ©”μ‹μ§€λ¥Ό ```μ¤νΌλ μ΄μ…(operation)```μ΄λΌκ³  λ¶€λ¥Έλ‹¤.
    - μ¤νΌλ μ΄μ…μ€ μν–‰ κ°€λ¥ν• μ–΄λ–¤ ν–‰λ™μ— λ€ν• μ¶”μƒν™”

#### π‘€ UMLμ—μ„ μ •μν•λ” μ¤νΌλ μ΄μ…
- μ‹¤ν–‰ν•κΈ° μ„ν•΄ κ°μ²΄κ°€ νΈμ¶λ  μ μλ” λ³€ν™μ΄λ‚ μ •μμ— κ΄€ν• λ…μ„Έλ‹¤.
- μ¤νΌλ μ΄μ…μ€ κµ¬ν„μ΄ μ•„λ‹ μ¶”μƒν™”λ‹¤.
    - λ°λ©΄ UMLμ λ©”μ„λ“λ” μ¤νΌλ μ΄μ…μ„ κµ¬ν„ν• κ²ƒ
    - μΈμ©ν•λ©΄, λ©”μ„λ“λ” μ¤νΌλ μ΄μ…μ— λ€ν• κµ¬ν„
- λ©”μ„λ“λ” μ¤νΌλ μ΄μ…κ³Ό μ—°κ΄€λ μ•κ³ λ¦¬μ¦ λλ” μ μ°¨λ¥Ό λ…μ‹ν•λ‹¤.

### π μ‹κ·Έλ‹μ²
- μ¤νΌλ μ΄μ…μ μ΄λ¦„κ³Ό νλΌλ―Έν„° λ©λ΅μ„ ν•©μ³ ```μ‹κ·Έλ‹μ²(signature)```λΌκ³  λ¶€λ¥Έλ‹¤.
- μ¤νΌλ μ΄μ…μ€ μ‹¤ν–‰ μ½”λ“ μ—†μ΄ μ‹κ·Έλ‹μ²λ§μ„ μ •μν• κ²ƒ
- λ©”μ„λ“λ” μ΄ μ‹κ·Έλ‹μ²μ— κµ¬ν„μ„ λ”ν• κ²ƒ

## π¥‘ 02. μΈν„°νμ΄μ¤μ™€ μ„¤κ³„ ν’μ§
- μΆ‹μ€ μΈν„°νμ΄μ¤λ” μµμ†ν•μ μΈν„°νμ΄μ¤μ™€ μ¶”μƒμ μΈ μΈν„°νμ΄μ¤λΌλ” μ΅°κ±΄μ„ λ§μ΅±ν•΄μ•Ό ν•¨
    - μµμ†ν•μ μΈν„°νμ΄μ¤: κΌ­ ν•„μ”ν• μ¤νΌλ μ΄μ…λ§μ„ μΈν„°νμ΄μ¤μ— ν¬ν•¨
    - μ¶”μƒμ μΈ μΈν„°νμ΄μ¤ : μ–΄λ–»κ² μν–‰ν•λ”μ§€κ°€ μ•„λ‹ λ¬΄μ—‡μ„ ν•λ”μ§€λ¥Ό ν‘μ‹
- μ±…μ„ μ£Όλ„ μ„¤κ³„λ¥Ό ν†µν•΄ λ©”μ‹μ§€λ¥Ό λ¨Όμ € μ„ νƒν•¨μΌλ΅μ¨ ν‘λ ¥κ³Όλ” λ¬΄κ΄€ν• μ¤νΌλ μ΄μ…μ΄ μΈν„°νμ΄μ¤μ— μ¤λ©°λ“λ” κ²ƒμ„ λ°©μ§€ν•¨

### π λ””λ―Έν„° λ²•μΉ™(Law of Demeter)
- κ°μ²΄ λ‚΄λ¶€ κµ¬μ΅°μ— κ°•ν•κ² κ²°ν•©λμ§€ μ•λ„λ΅ ν‘λ ¥ κ²½λ΅λ¥Ό μ ν•ν•λΌ.
- λ‚―μ„  μμ—κ² λ§ν•μ§€ λ§λΌ
- μ¤μ§ μΈμ ‘ν• μ΄μ›ƒν•κ³ λ§ λ§ν•λΌ
</br>

λ””λ―Έν„° λ²•μΉ™μ„ λ”°λ¥΄κΈ° μ„ν•΄μ„λ” ν΄λμ¤ λ‚΄λ¶€μ λ©”μ„λ“κ°€ μ•„λ μ΅°κ±΄μ„ λ§μ΅±ν•λ” μΈμ¤ν„΄μ¤μ—λ§ λ©”μ‹μ§€λ¥Ό μ „μ†΅ν•λ„λ΅ ν”„λ΅κ·Έλλ° ν•΄μ•Ό ν•¨.
- this κ°μ²΄
- λ©”μ„λ“μ λ§¤κ°λ³€μ
- thisμ μ†μ„±
- thisμ μ†μ„±μΈ μ»¬λ ‰μ…μ μ”μ†
- λ©”μ„λ“ λ‚΄μ—μ„ μƒμ„±λ μ§€μ—­ κ°μ²΄

μΊ΅μν™”μ μ›μΉ™μ΄ ν΄λμ¤ λ‚΄λ¶€μ κµ¬ν„μ„ κ°μ¶°μ•Ό ν•λ‹¤λ” μ‚¬μ‹¤μ„ κ°•μ΅°ν•λ‹¤λ©΄ λ””λ―Έν„° λ²•μΉ™μ€ ν‘λ ¥ν•λ” ν΄λμ¤μ μΊ΅μν™”λ¥Ό μ§€ν‚¤κΈ° μ„ν•΄ μ ‘κ·Όν•΄μ•Ό ν•λ” μ”μ†λ¥Ό μ ν•ν•λ‹¤.

#### π‘€ λ¶€λ„λΌνƒ€λ” μ½”λ“ (shy code)
- λ¶ ν•„μ”ν• μ–΄λ–¤ κ²ƒλ„ λ‹¤λ¥Έ κ°μ²΄μ—κ² λ³΄μ—¬μ£Όμ§€ μ•μΌλ©°, λ‹¤λ¥Έ κ°μ²΄μ κµ¬ν„μ— μμ΅΄ν•μ§€ μ•λ” μ½”λ“
    - λ””λ―Έν„° λ²•μΉ™μ„ λ”°λ¥΄λ” μ½”λ“λ” λ©”μ‹μ§€ μμ‹ μμ λ‚΄λ¶€ κµ¬μ΅°κ°€ μ „μ†΅μμ—κ² λ…Έμ¶λμ§€ μ•μΌλ©°, λ©”μ‹μ§€ μ „μ†΅μλ” μμ‹ μμ λ‚΄λ¶€ κµ¬ν„μ— κ²°ν•©λμ§€ μ•λ”λ‹¤.
    - λ”°λΌμ„ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ μ‚¬μ΄μ— λ‚®μ€ κ²°ν•©λ„λ¥Ό μ μ§€ν•  μ μλ‹¤.

#### π‘€ κΈ°μ°¨ μ¶©λ (train wreck)
```Java
// λ””λ―Έν„° λ²•μΉ™μ„ μ„λ°ν•λ” μ½”λ“
screening.getMovie().getDiscountConditions();
```

μμ‹ μμ λ‚΄λ¶€ κµ¬μ΅°μ— λ€ν•΄ λ¬Όμ–΄λ³΄κ³  λ°ν™λ°›μ€ μ”μ†μ— λ€ν•΄ μ—°μ‡„μ μΌλ΅ λ©”μ‹μ§€λ¥Ό μ „μ†΅ν•λ‹¤.
- λ©”μ‹μ§€ μ „μ†΅μκ°€ μμ‹ μμ λ‚΄λ¶€ κµ¬μ΅°μ— λ€ν•΄ λ¬Όμ–΄λ³΄κ³  λ°ν™λ°›μ€ μ”μ†μ— λ€ν•΄ μ—°μ‡„μ μΌλ΅ λ©”μ‹μ§€λ¥Ό μ „μ†΅ν•κ³  μμ
- μ΄μ™€ κ°™μ€ μ½”λ“ = ```κΈ°μ°¨ μ¶©λ(train wreck)```

```Java
// μμ •λ μ½”λ“
screening.calculateFee(audienceCount)
```

## π¥‘ 03. μ›μΉ™μ ν•¨μ •
- λ””λ―Έν„° λ²•μΉ™κ³Ό λ¬»μ§€ λ§κ³  μ‹μΌλΌλ” ν›λ¥­ν• μ„¤κ³„ μ›μΉ™μ΄μ§€λ§ μ λ€μ μΈ λ²•μΉ™μ€ μ•„λ‹λ‹¤.
- μ„¤κ³„κ°€ νΈλ μ΄λ“μ¤ν”„μ μ‚°λ¬Όμ΄λΌλ” κ²ƒμ„ μμ§€ λ§ κ²ƒ.
- μ›μΉ™μ΄ ν„μ¬ μƒν™©μ— λ¶€μ ν•©ν•λ‹¤κ³  νλ‹¨λλ‹¤λ©΄ κ³Όκ°ν•κ² μ›μΉ™μ„ λ¬΄μ‹ν•λΌ. 
    - μ›μΉ™μ„ μ•„λ” κ²ƒλ³΄λ‹¤ λ” μ¤‘μ”ν• κ²ƒμ€ μ–Έμ  μ›μΉ™μ΄ μ μ©ν•κ³  μ–Έμ  μ μ©ν•μ§€ μ•μ€μ§€λ¥Ό νλ‹¨ν•  μ μλ” λ¥λ ¥μ„ κΈ°λ¥΄λ” κ²ƒ.

### π λ…λ Ή-μΏΌλ¦¬ λ¶„λ¦¬ μ›μΉ™(Command-Query Separation)
νΌλΈ”λ¦­ μΈν„°νμ΄μ¤μ— μ¤νΌλ μ΄μ…μ„ μ •μν•  λ• μ°Έκ³ ν•  μ μλ” μ§€μΉ¨μ„ μ κ³µν•¨

- ```λ£¨ν‹΄(routine)```: μ–΄λ–¤ μ μ°¨λ¥Ό λ¬¶μ–΄ νΈμ¶ κ°€λ¥ν•λ„λ΅ μ΄λ¦„μ„ λ¶€μ—¬ν• κΈ°λ¥ λ¨λ“
- ```λ£¨ν‹΄(routine)``` = ```ν”„λ΅μ‹μ €(procedure)``` + ```ν•¨μ(function)```
    - ν”„λ΅μ‹μ €λ” λ¶€μν¨κ³Όλ¥Ό λ°μƒμ‹ν‚¬ μ μμ§€λ§ κ°’μ„ λ°ν™ν•  μ μ—†μ
    - ν•¨μλ” κ°’μ„ λ°ν™ν•  μ μμ§€λ§ λ¶€μν¨κ³Όλ¥Ό λ°μƒμ‹ν‚¬ μ μ—†μ
- ```λ…λ Ή(Command)```: κ°μ²΄μ μƒνƒλ¥Ό μμ •ν•λ” μ¤νΌλ μ΄μ…
- ```μΏΌλ¦¬(Query)``` : κ°μ²΄μ™€ κ΄€λ ¨λ μ •λ³΄λ¥Ό λ°ν™ν•λ” μ¤νΌλ μ΄μ…
    - κ°μ²΄μ μƒνƒλ¥Ό λ³€κ²½ν•λ” λ…λ Ήμ€ λ°ν™κ°’μ„ κ°€μ§ μ μ—†λ‹¤.
    - κ°μ²΄μ μ •λ³΄λ¥Ό λ°ν™ν•λ” μΏΌλ¦¬λ” μƒνƒλ¥Ό λ³€κ²½ν•  μ μ—†λ‹¤.

### π λ…λ Ή-μΏΌλ¦¬ λ¶„λ¦¬μ™€ μ°Έμ΅° ν¬λ…μ„±
- λ…λ Ήκ³Ό μΏΌλ¦¬λ¥Ό μ—„κ²©ν•κ² λ¶„λ¥ν•λ©΄ κ°μ²΄μ λ¶€μν¨κ³Όλ¥Ό μ μ–΄ν•κΈ°κ°€ μμ›”ν•΄μ§
- μΏΌλ¦¬λ” κ°μ²΄μ μƒνƒλ¥Ό λ³€κ²½ν•μ§€ μ•κΈ° λ•λ¬Έμ— λ‡ λ²μ΄κ³  λ°λ³µμ μΌλ΅ νΈμ¶ν•λ”λΌλ„ μƒκ΄€μ—†μ
- λ…λ Ήμ΄ κ°μ…ν•μ§€ μ•λ” ν• μΏΌλ¦¬μ κ°’μ€ λ³€κ²½λμ§€ μ•κΈ° λ•λ¬Έμ— μΏΌλ¦¬μ κ²°κ³Όλ¥Ό μμΈ΅ν•κΈ° μ‰¬μ›μ§
- λν• μΏΌλ¦¬λ“¤μ μμ„λ¥Ό μμ λ΅­κ² λ³€κ²½ν•  μ μμ