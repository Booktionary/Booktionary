# 🎁 Chapter 14. 일관성 있는 협력
- 객체는 협력을 위해 존재한다. 잘 설계된 애플리케이션은 이해하기 쉽고, 수정이 용이하며, 재사용 가능한 협력의 모임이다. 객체지향 설계의 목표는 적절한 책임을 수행하는 객체들의 협력을 기반으로 결합도가 낮고 재사용 가능한 코드 구조를 창조하는 것이다.
- 객체지향 패러다임의 장점은 설계를 재사용할 수 있다는 것이다.
- 재사용을 위해서는 객체들의 협력 방식을 일관성 있게 만들어야 한다.
- 일관성은 설계에 드는 비용을 감소시킨다. 일관성 있는 설계가 가져다주는 더 큰 이익은 코드가 이해하기 쉬워진다는 것이다.
- 특정한 문제를 유사한 방법으로 해결하고 있다는 사실을 알면 문제를 이해하는 것만으로도 코드의 구조를 예상할 수 있게 된다.
- 가능하면 유사한 기능을 구현하기 위해 유사한 협력 패턴을 사용하라.

## 🥑 설계에 일관성 부여하기
- 첫 번째 조언: 일관성 있는 설계를 만드는 데 가장 훌륭한 조언은 다양한 설계 경험을 익히라는 것
    - 풍부한 경험을 가진 사람은 어떤 변경이 중요한지, 그리고 그 변경을 어떻게 다뤄야 하는지에 대한 통찰력을 가지게 된다.
    - 따라서 설계 경험이. 풍부할수록 어떤 위치에서 일관성을 보장해야 하고 일관성을 제공하기 위해 어떤 방법을 사용해야 하는지를 직관적으로 결정할 수 있다.
- 두 번째 조언: 널리 알려진 디자인 패턴을 학습하고 변경이라는 문맥 안에서 디자인 패턴을 적용해 보라는 것.
    - 디자인 패턴은 특정한 변경에 대해 일관성 있는 설계를 만들 수 있는 경험 법칙을 모아놓은 일종의 설계 템플릿이다.
    - 디자인 패턴을 학습하면 빠른 시간 안에 전문가의 경험을 흡수할 수 있다.

비록 디자인 패턴이 반복적으로 적용할 수 있는 설계 구조를 제공한다고 하더라도 모든 경우에 적합한 패턴을 찾을 수 있는 것은 아니다. 따라서 협력을 일관 있게 만들기 위해 아래와 같은 기본 지침을. 따르는 것이 도움이 된다는 것.

- **변하는 개념을 변하지 않는 개념으로부터 분리하라.**
- **변하는 개념을 캡슐화하라**

#### 👀 나의 생각: 변하는 개념을 변하지 않는 개념으로부터 분리하라.
객체지향에서 중요한 개념인 추상화와 관련이 있다고 생각했다.

추상화는 객체의 공통된 특징을 부각시켜 이를 하나의 개념으로 다루는 것인데 이때 추상화의 핵심은 변하지 않는 개념, 즉 공통된 특징을 가진 객체의 속성과 동작을 일반화하여 추상화한 것이다.

변하는 개념은 객체의 속성과 동작 중에서 다양한 상황에 따라 변화할 수 있는 부분이다.

따라서 `"변하는 개념을 변하지 않는 개념으로부터 분리하라"`는 추상화를 통해 변하지 않는 개념을 도출하고, 이를 기반으로 변화하는 개념을 분리해야 함을 의미한다. 이렇게 변하는 개념과 변하지 않는 개념을 분리하면, 변하는 개념이 수정되더라도 변하지 않는 개념에 영향을 주지 않게 된다. 이는 유지 보수와 확장성에 유리한 구조를 만드는 데 중요한 것 같다.

#### 👀 나의 생각: 변하는 개념을 캡슐화하라
캡슐화란 객체의 상태와 행위를 외부에서 직접 접근하지 못하도록 보호하기 위함이고 캡슐화를 통해 객체의 내부 상태가 변화할 때, 외부에 영향을 주지 않고 내부 상태를 캡슐화한 객체 스스로가 상태를 변경할 수 있다.

`"변하는 개념을 캡슐화하라"`는 변화하는 개념을 외부로부터 감추어 보호하고, 객체 스스로가 상태를 변경함으로써 변경에 대한 영향을 제어할 수 있도록 하는 것이라고 생각한다. 이는 객체 간의 결합도를 낮추고, 유지 보수와 확장성을 향상시키는 데 중요한 역할을 한다.

### 🍞 일관성 있는 협력을 위한 지침
- `변하는 개념을 변하지 않는 개념으로부터 분리하라.`
    - 소프트웨어 시스템에서 일부 구성요소들은 자주 변경되는 요구사항에 영향을 받고, 다른 구성 요소들은 상대적으로 변하지 않는 특성을 가지고 있다. 이런 구성요소들은 함께 설계되어야 하지만 서로 다른 빈도로 변경될 가능성이 높으므로 서로 분리되어야 함.
    - 즉, 변하는 개념을 변하지 않는 개념으로 분리하면 각각 독립적으로 변경할 수 있으므로 시스템의 유지 보수성과 재사용성이 증가한다.
- `변하는 개념을 캡슐화하라.`
    - 변경을 수용하기 쉬워진다. 변경이 필요한 개념을 캡슐화하면 해당 개념을 변경할 때 다른 부분에 영향을 미치지 않기 때문에 시스템이 더욱 안정적이고 유지 보수가 용이하기 때문이다.

### 🍞 캡슐화 다시 살펴보기
데이터 은닉(data hiding)이란 오직 외부에 공개된 메서드를 통해서만 객체의 내부에 접근할 수 있게 제한함으로써 객체의 내부의 상태 구현을 숨기는 기법을 말한다. 그러나 캡슐화는 데이터 은닉 이상이다.

캡슐화를 단순히 데이터 숨기기로만 생각하면 이상하게 들리지만 실제로 설계라는 맥락에서 캡슐화를 논의할 때는 그 안에 항상 변경이라는 주제가 녹여있다. 캡슐화의 가장 대표적인 예는 객체의 퍼블릭 인터페이스와 구현을 분리하는 것이다.

![](https://velog.velcdn.com/images/elbin/post/5ada47f2-3779-48af-b309-6e5ab18731f0/image.png)

- `데이터 캡슐화` :  데이터와 해당 데이터를 처리하는 메서드를 함께 묶어 하나의 캡슐(객체)로 만들어 데이터를 보호하고, 외부에서 직접적인 접근을 제한한다.
- `메서드 캡슐화` : 클래스의 내부 행동을 캡슐화
    - 메서드를 수정하더라도 클래스를 사용하는 외부 코드에 영향을 미치지 않고, 메서드 호출 방식을 변경해도 외부 코드에 영향을 주지 않음.
- `객체 캡슐화`: 객체와 객체 사이의 관계를 캡슐화 (`Movie`와 `DiscountPolicy`의 관계를 변경해도 외부에 영향 x, 합성을 의미)
    - `Movie` 객체와 `DiscountPolicy` 객체 간의 관계를 생각해 보면 `Movie` 객체가 `DiscountPolicy` 객체를 가지고 있다는 것을 알고 있어야 하지만 이러한 세부적인 내용을 외부에 노출시키는 것은 객체 지향 설계의 캡슐화 원칙을 위반하는 것.
    - 객체 캡슐화를 통해 `Movie`와 `DiscountPolicy` 사이의 관계를 변경하더라도 이를 사용하는 외부의 객체에는 영향을 주지 않는다.
    - 따라서 `Movie` 객체가 `DiscountPolicy` 객체를 포함하고 있는 것으로 생각할 수 있다.
- `서브타입 캡슐화`: 서브타입의 종류를 캡슐화
    - 다형성의 기반

### ✍🏻 Writer
|한빈|
|:------:|
|<img src="https://user-images.githubusercontent.com/83414134/205510201-c712f541-ec21-4823-bb0d-4b784046bea3.png" width="150" height="150">|
|[dh3183](https://github.com/dh3183)|