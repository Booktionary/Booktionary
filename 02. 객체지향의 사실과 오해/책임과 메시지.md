# Ch05. 책임과 메시지
> 의도는 "메시징"이다. 훌륭하고 성장 가능한 시스템을 만들기 위한 핵심은 모듈 내부의 속성과 행동이 어떤가보다는 모듈이 어떻게 커뮤니케이션하는가에 달려 있다. - 앨런 케이

* 책임감 분산(diffusion of responsibility)
사건에 대한 목격자가 많으면 많을수록 개인이 느끼는 책임감은 적어진다.
대부분의 사람들은 자신에게 명확한 책임이 없는 경우에는 타인의 책임으로 간주하는 경향이 생긴다.
* 명확한 책임과 역할을 지닌 참가자들이 협력에 참여해야 한다는 것.

## 자율적인 책임
### 설계의 품질을 좌우하는 책임
* 객체지향  공동체를 구성하는 기본 단위는 **'자율적'** 인 객체
* 자율성의 사전적 의미는 **'자기 스스로의 원칙에 따라 어떤 일을 하거나 자신을 통제해서 절제하는 성질이나 특성'**
* 반대로 타율성은 **'자신의 의지와 관계없이 정해진 규율이나 원칙에 따라서만 움직이는 성질'**
* 따라서 자율적인 객체란 스스로 정한 원칙에 따라 판단하고 스스로의 의지를 기반으로 행동하는 객체
* 타인이 정한 규칙이나 명령에 따라 판단하고 행동하는 객체는 자율적인 객체라고 부르기 어렵다는 것

> 객체가 어떤 행동을 하는 이유 = 다른 객체로부터 요청을 수신했기 때문
>
> 자율적인 객체란 **스스로의 의지와 판단에 따라 각자 맡은 책임을 수행하는 객체**를 의미한다.

1. 객체지향 설계의 아름다움은 적절한 책임을 적절한 객체에게 할당하는 과정 속에서 드러난다.
2. 객체지향 애플리케이션을 설계하는 가장 널리 알려진 방법을 **책임-주도 설계**라고 부르는 이유는?
3. **적절한 책임의 선택이 전체 설계의 방향을 결정하기 때문**

* 적절한 책임이 자율적인 객체를 낳고, 자율적인 객체들이 모여 유연하고 단순한 협력을 낳음.
* 따라서 **_협력에 참여하는 객체가 얼마나 자율적인지가 전체 애플리케이션의 품질을 결정함_**
### 자신의 의지에 따라 증언할 수 있는 자유
* 책임의 자율적 수행을 위해선 객체에게 할당되는 책임이 자율적이어야 한다.

> 1. 왕은 목격자인 모자 장수에게 '증언하라'는 요청을 전송
> 2. 모자 장수가 재판이라는 협력에 참여하기 위해서는 왕의 요청을 적절하게 처리한 후 응답 해야 함
> 3. 요청은 수신자의 책임을 암시하므로 모자 장수는 재판이라는 협력에 참여하기 위해 **'증언할 책임'** 을 짐
> 4. 왕은 모자 장수가 **'증언하라'** 라는 자신의 요청에 반응해 책임을 완수할 수 있다면 어떤 방법으로 증언하는지에 관해서는 신경을 쓰지 않음.
> 5. 모자 장수는 왕의 요청을 받아야만 책임을 수행하기 시작하겠지만 증언 방식이나 증언에 필요한 자료는 스스로의 의지와 판단에 따라 자유롭게 선택할 수 있음.

<img src="https://user-images.githubusercontent.com/83414134/205498226-ddd836c7-878d-4343-b592-d5fb91df4f7b.jpg">

> 1. 왕이 모자 장수가 증언하는 데 필요한 행동들을 좀 더 상세하게 요청한다.
> 2. 모자 장수는 왕과 협력하기 위해 먼저 '목격했던 장면을 떠올리고'
> 3. '떠오르는 기억을 시간 순서대로 재구성'한 후
> 4. '말로 간결하게 표현 해야 하는 책임들을 떠안게 됨'

<img src="https://user-images.githubusercontent.com/83414134/205498449-104239ca-8118-4c53-886e-6cb4782786bb.jpg">

* 첫 번째 상황에서 모자 장수는 왕에게 증언할 책임은 있지만 증언을 위한 구체적인 방법이나 절차에 대해서는 최대한의 자유를 누림
* 중요한 포인트 : 왕의 입장에서 **모자 장수가 어떤 방법으로 증언하는지는 중요하지 않다는 것**
* **증언이라는 책임만 완수할 수 있다면** 나머지 구체적인 방법이나 절차는 모자 장수가 자유롭게 선택하도록 허용, 왕이 만족할 만한 수준으로 증언할 수만 있다면 그 밖의 세부 사항에 대해서는 무한대에 가까운 자유권을 누리는 것

모자 장수는 첫 번째 협력에서와 마찬가지로 이 요청들을 차례대로 처리해야 하는 책임을 가지고 있는데 이 책임들이 모자 장수가 증언하기 위해 선택할 수 있는 자유의 범위를 지나치게 제한함
* 그날의 상황을 생생히 기록한 메모를 손에 쥐고 있더라도 이 기록을 참조할 수 없음
* 증언하기 위해 무조건 자신의 기억에만 의존해야 함
* 진술 순서를 자유롭게 선택할 수 없음
* 증언 내용을 말로 표현해야만 한다는 제약은 다양한 매체를 통해 증언할 수 있는 가능성 자체의 박탈
* 상세한 수준의 책임은 증언이라는 협력의 최종 목표는 만족시킬지 몰라도 모자 장수가 누려야 하는 선택의 자유를 크게 훼손
* 자신의 의지나 판단력이 아닌 왕의 명령에 의존할 수밖에 없으며 모자 장수는 자율적으로 책임을 수행할 수 없음

1. 첫 번째 상황에서 모자 장수에게 할당된 '증언하라'라는 책임 -> 모자 장수의 자율성을 충분히 보장할 수 있을 정도로 포괄적이고 추상적이면서 모자 장수가 해야 할 일을 명확하게 지시함
2. 반면 두 번째 상황은 **모자 장수에게 할당된 좀 더 상세한 수준의 책임들은 모자 장수의 자율성을 제한 하는 것**

> **객체지향 세계는 자율적인 객체들의 공동체다.**
>
> 객체가 자율적이기 위해선 객체에게 할당되는 책임의 수준 역시 자율적이어야 한다.
### 너무 추상적인 책임
<img src="https://user-images.githubusercontent.com/83414134/205498226-ddd836c7-878d-4343-b592-d5fb91df4f7b.jpg">

* 포괄적이고 추상적인 책임을 선택한다고 해서 무조건 좋진 않음
* 책임은 협력에 참여하는 의도를 명확하게 설명할 수 있는 수준 안에서 추상적이어야 한다.
* '증언하라'라는 책임은 모자 장수의 자율성을 보장할 수 있을 정도로 충분히 추상적인 동시에 협력의 의도를 뚜렷하게 표현할 수 있을 정도로 상당히 구체적
* 어떤 책임이 가장 적절한가는 설계 중인 협력이 무엇인가에 따라 달라진다.
### '어떻게'가 아니라 '무엇을'
* 자율적인 책임의 특징은 **'어떻게'** 가 아니라 **'무엇'** 을 해야 하는가를 설명한다는 것
* **'증언한다'** 라는 책임은 모자장수가 협력을 위해 무엇을 해야 하는지는 결정하지만 어떻게 해야 하는지에 대해서는 전혀 언급하지 않는다.

'목격했던 장면을 떠올리고', '떠오르는 기억을 시간 순서대로 재구성'한 후, '말로 간결하게 표현'해야 하는 책임은 증언하기 위해 모자 장수가 '어떻게' 해야 하는지를 설명한다. 어떻게 증언할 것인지가 책임의 수준에서 어느 정도 결정돼 있기 때문에 모자 장수가 선택할 수 있는 부분은 크게 제한될 수밖에 없다.

### 책임을 자극하는 메시지
* 객체가 다른 객체에게 접근할 수 있는 유일한 방법은 요청을 전송하는 것뿐
* 그리고 이것을 '메시지'라고 부른다.
* 메시지는 객체로 하여금 자신의 책임, 즉 행동을 수행하게 만드는 유일한 방법